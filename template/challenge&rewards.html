<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Recycling Challenges & Rewards</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --dark-green: #507b5d;
      --mid-green: #71936a;
      --light-green: #a5c38f;
      --pale-green: #dada9c;
    }

    body {
      background-color: var(--pale-green);
    }

    .section-bg {
      background-color: var(--light-green);
    }

    .header-bg {
      background-color: var(--dark-green);
    }

    .card-bg {
      background-color: var(--mid-green);
    }

    .progress-bar {
      height: 10px;
      background-color: #e5e7eb;
      border-radius: 9999px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      background-color: #4ade80;
    }
  </style>
</head>
<body class="text-gray-900 font-sans leading-relaxed">

  <header class="header-bg text-white text-center p-6 shadow-md">
    <h1 class="text-3xl font-bold">Recycling Challenges & Rewards</h1>
    <p class="text-lg mt-2">Inspire. Act. Earn.</p>
  </header>

  <section class="section-bg px-6 py-10">
    <div class="max-w-4xl mx-auto space-y-10">
      <div class="bg-white shadow-lg rounded-xl p-6">
        <div class="flex justify-between items-center">
          <h2 class="text-2xl font-semibold text-green-800">üå± Monthly Eco-Challenges</h2>
          {% if user.is_authenticated %}
            <form action="{% url 'join_challenge' %}" method="POST">
              {% csrf_token %}
              <button type="submit" class="bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition">
                Join Challenge
              </button>
            </form>
          {% else %}
            <a href="{% url 'login' %}" class="text-blue-600 hover:underline">Login to Join</a>
          {% endif %}
        </div>
        <p class="mt-2 text-gray-700">
          Participate in exciting monthly challenges designed to help you recycle more effectively and raise awareness in your community.
        </p>
      </div>
      <div class="bg-white shadow-lg rounded-xl p-6">
        <h2 class="text-2xl font-semibold text-green-800">üèÜ Earn Points & Rewards</h2>
        <p class="mt-2 text-gray-700">
          Earn points every time you complete an eco-challenge. At the end of every 6 months, receive rewards based on your performance.
        </p>
        <div class="mt-4">
          <p class="text-sm text-gray-600 mb-1">Your Progress:</p>
          <div class="progress-bar">
            <div class="progress" style="width: {{ user_progress|default:'0' }}%;"></div>
          </div>
          <p class="text-xs mt-1 text-gray-600">{{ user_progress|default:'0' }}% completed</p>
        </div>
      </div>

    </div>
  </section>
  <footer class="text-center p-4 text-sm text-gray-700">
    ¬© 2025 RecycleConnect. All rights reserved.
  </footer>
</body>
</html>
